<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NovaShield â€” JARVIS Edition</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <header>
    <div class="brand">
      <div class="ring"></div>
      <h1>NovaShield <span class="mini">JARVIS</span></h1>
      <div class="by">by niteas aka MrNova420</div>
    </div>
    <div class="actions">
      <button id="btn-refresh">Refresh</button>
      <button data-act="backup">Backup</button>
      <button data-act="version">Snapshot</button>
      <button data-act="restart_monitors">Restart Monitors</button>
    </div>
  </header>

  <nav class="tabs">
    <button data-tab="status" class="active">Status</button>
    <button data-tab="alerts">Alerts</button>
    <button data-tab="files">Files</button>
    <button data-tab="terminal">Terminal</button>
    <button data-tab="ai">Jarvis</button>
    <button data-tab="webgen">Web Builder</button>
    <button data-tab="config">Config</button>
    <button data-tab="admin">Admin</button>
  </nav>

  <main>
    <section id="tab-status" class="tab active">
      <section class="grid">
        <div class="card" id="card-cpu"><h2>CPU</h2><div class="value" id="cpu"></div></div>
        <div class="card" id="card-mem"><h2>Memory</h2><div class="value" id="mem"></div></div>
        <div class="card" id="card-disk"><h2>Disk</h2><div class="value" id="disk"></div></div>
        <div class="card" id="card-net"><h2>Network</h2><div class="value" id="net"></div></div>
        <div class="card" id="card-int"><h2>Integrity</h2><div class="value" id="int"></div></div>
        <div class="card" id="card-proc"><h2>Processes</h2><div class="value" id="proc"></div></div>
        <div class="card" id="card-user"><h2>Users</h2><div class="value" id="user"></div></div>
        <div class="card" id="card-svc"><h2>Services</h2><div class="value" id="svc"></div></div>
        <div class="card" id="card-meta"><h2>Meta</h2><div class="value" id="meta"></div></div>
      </section>
      <div class="panel">
        <h3>Monitors Control</h3>
        <div class="toggles">
          <button class="toggle" data-target="cpu">CPU</button>
          <button class="toggle" data-target="memory">Memory</button>
          <button class="toggle" data-target="disk">Disk</button>
          <button class="toggle" data-target="network">Network</button>
          <button class="toggle" data-target="integrity">Integrity</button>
          <button class="toggle" data-target="process">Process</button>
          <button class="toggle" data-target="userlogins">Users</button>
          <button class="toggle" data-target="services">Services</button>
          <button class="toggle" data-target="logs">Logs</button>
          <button class="toggle" data-target="scheduler">Scheduler</button>
        </div>
      </div>
    </section>

    <section id="tab-alerts" class="tab">
      <div class="panel">
        <h3>Alerts</h3>
        <ul id="alerts"></ul>
      </div>
    </section>

    <section id="tab-files" class="tab">
      <div class="panel">
        <h3>File Manager</h3>
        <div class="filebar">
          <input id="cwd" value="~/.novashield" />
          <button id="btn-list">List</button>
          <button id="btn-new-file">New File</button>
          <button id="btn-new-folder">New Folder</button>
        </div>
        <div id="filelist"></div>
        <div id="viewer" class="panel" style="display:none; margin-top:10px;">
          <h3 id="viewer-title">Viewer</h3>
          <textarea id="viewer-content" style="width:100%;height:300px;font-family:monospace;"></textarea>
          <div class="file-actions">
            <button id="btn-save-file">Save</button>
            <button id="btn-close-viewer">Close</button>
            <button id="btn-delete-file" style="background:#dc2626;">Delete</button>
          </div>
        </div>
        <div class="file-actions">
          <input id="newpath" placeholder="Path to create or save" />
          <button id="btn-mkdir">Mkdir</button>
          <button id="btn-save">Save Viewer -> Path</button>
        </div>
      </div>
    </section>

    <section id="tab-terminal" class="tab">
      <div class="panel">
        <h3>Web Terminal</h3>
        <div id="term" tabindex="0"></div>
        <div class="term-hint">Type here. Press Ctrl-C to interrupt. Idle timeout applies.</div>
      </div>
    </section>

    <section id="tab-ai" class="tab">
      <div class="panel">
        <h3>Jarvis Assistant</h3>
        <div id="chat">
          <div id="chatlog"></div>
          <div class="chatbox">
            <input id="prompt" placeholder="Ask Jarvis... try: status, backup, IP" />
            <button id="send">Send</button>
          </div>
        </div>
      </div>
    </section>

    <section id="tab-webgen" class="tab">
      <div class="panel">
        <h3>Website Builder</h3>
        <input id="wtitle" placeholder="Page title" />
        <textarea id="wcontent" placeholder="HTML content"></textarea>
        <button id="wmake">Create Page</button>
        <div id="wresult"></div>
        <div class="panel" style="margin-top:15px;">
          <h3>Existing Pages</h3>
          <div id="page-list"></div>
        </div>
      </div>
    </section>

    <section id="tab-config" class="tab">
      <div class="panel">
        <h3>Configuration Editor</h3>
        <div class="config-actions">
          <button id="btn-save-config">Save Config</button>
          <button id="btn-reload-config">Reload</button>
          <button id="btn-validate-config">Validate YAML</button>
        </div>
        <textarea id="config" style="width:100%;height:400px;font-family:monospace;white-space:pre-wrap;"></textarea>
        <div id="config-msg" style="margin-top:8px;font-size:12px;"></div>
      </div>
    </section>

    <section id="tab-admin" class="tab">
      <div class="panel">
        <h3>User Management</h3>
        <div class="admin-section">
          <h4>Add New User</h4>
          <input id="new-username" placeholder="Username" />
          <input id="new-password" type="password" placeholder="Password" />
          <button id="btn-add-user">Add User</button>
        </div>
        <div class="admin-section">
          <h4>Existing Users</h4>
          <div id="user-list"></div>
        </div>
        <div class="admin-section">
          <h4>System Actions</h4>
          <button id="btn-backup-restore">Backup & Restore</button>
          <button id="btn-notification-setup">Notification Setup</button>
        </div>
      </div>
    </section>
  </main>

  <div id="login" class="login" style="display:none;">
    <div class="login-card">
      <h3>Login Required</h3>
      <input id="li-user" placeholder="Username" />
      <input id="li-pass" type="password" placeholder="Password" />
      <input id="li-otp" placeholder="2FA Code (if enabled)" />
      <button id="li-btn">Sign In</button>
      <div id="li-msg" style="color:#ef4444;font-size:12px;margin-top:8px;"></div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
